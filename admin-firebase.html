<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin - PerfumParadiseRD (Firebase)</title>
    <link rel="stylesheet" href="admin-style.css" />
  </head>
  <body>
    <!-- Pantalla de Login -->
    <div id="loginScreen" class="login-screen">
      <div class="login-container">
        <img src="logo2.jpeg" alt="Logo" class="login-logo" />
        <h1>Panel de Administraci√≥n</h1>
        <p class="login-subtitle">PerfumParadiseRD - Firebase</p>
        <form id="loginForm">
          <div class="form-group">
            <label for="email">Email</label>
            <input
              type="email"
              id="email"
              required
              placeholder="tu-email@ejemplo.com"
            />
          </div>
          <div class="form-group">
            <label for="password">Contrase√±a</label>
            <input
              type="password"
              id="password"
              required
              placeholder="Tu contrase√±a"
            />
          </div>
          <button type="submit" class="btn-login">Iniciar Sesi√≥n</button>
          <div id="loginError" class="error-message"></div>
        </form>
        <p style="margin-top: 20px; font-size: 12px; color: #999">
          üîí Autenticaci√≥n segura con Firebase<br />
          üí∞ Optimizado para cero costos
        </p>
      </div>
    </div>

    <!-- Panel de Administraci√≥n -->
    <div id="adminPanel" class="admin-panel" style="display: none">
      <!-- Header -->
      <header class="admin-header">
        <div class="admin-header-left">
          <img src="logo2.jpeg" alt="Logo" class="admin-logo" />
          <h1>Panel Admin (Firebase)</h1>
        </div>
        <div class="admin-header-right">
          <span class="admin-user">üë§ <span id="adminUsername"></span></span>
          <button id="logoutBtn" class="btn-logout">Cerrar Sesi√≥n</button>
        </div>
      </header>

      <!-- Contenido Principal -->
      <div class="admin-content">
        <!-- Barra de b√∫squeda y filtros -->
        <div class="admin-toolbar">
          <div class="search-box">
            <input
              type="text"
              id="searchInput"
              placeholder="üîç Buscar perfume o marca..."
            />
          </div>
          <div class="filter-box">
            <select id="categoryFilter">
              <option value="">Todas las categor√≠as</option>
              <option value="arabes">√Årabes</option>
              <option value="disenador">Dise√±ador</option>
              <option value="nicho">Nicho</option>
              <option value="sets">Sets</option>
            </select>
            <button id="addPerfumeBtn" class="btn-add">
              ‚ûï Agregar Perfume
            </button>
            <button id="refreshBtn" class="btn-refresh">üîÑ Recargar</button>
          </div>
        </div>

        <!-- Estad√≠sticas -->
        <div class="stats-container">
          <div class="stat-card">
            <div class="stat-number" id="totalPerfumes">0</div>
            <div class="stat-label">Total Perfumes</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="totalArabes">0</div>
            <div class="stat-label">√Årabes</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="totalDisenador">0</div>
            <div class="stat-label">Dise√±ador</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="totalNicho">0</div>
            <div class="stat-label">Nicho</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="totalSets">0</div>
            <div class="stat-label">Sets</div>
          </div>
        </div>

        <!-- Tabla de perfumes -->
        <div class="table-container">
          <table id="perfumesTable">
            <thead>
              <tr>
                <th>Imagen</th>
                <th>Nombre</th>
                <th>Marca</th>
                <th>Categor√≠a</th>
                <th>Precio Final</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody id="perfumesTableBody">
              <tr>
                <td colspan="6" style="text-align: center; padding: 40px">
                  Cargando perfumes...
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Modal de Edici√≥n -->
    <div id="editModal" class="modal">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Editar Perfume</h2>
          <button class="modal-close" onclick="closeEditModal()">√ó</button>
        </div>
        <form id="editForm">
          <div class="modal-body">
            <div class="edit-preview">
              <img id="editImage" src="" alt="Perfume" />
              <div class="edit-info">
                <p>
                  <strong>Categor√≠a Original:</strong>
                  <span id="editCategoriaTexto"></span>
                </p>
                <p><strong>√çndice:</strong> <span id="editIndex"></span></p>
              </div>
            </div>

            <div class="form-group">
              <label for="editCategoriaSelect">Categor√≠a *</label>
              <select id="editCategoriaSelect" required>
                <option value="arabes">√Årabes</option>
                <option value="disenador">Dise√±ador</option>
                <option value="nichos">Nichos</option>
                <option value="sets">Sets</option>
              </select>
            </div>

            <div class="form-group">
              <label for="editMarcaSelect">Marca *</label>
              <select id="editMarcaSelect" required>
                <option value="">Seleccionar marca existente</option>
                <option value="__NUEVA__">‚ûï Agregar nueva marca</option>
              </select>
            </div>

            <div
              class="form-group"
              id="editMarcaInputGroup"
              style="display: none"
            >
              <label for="editMarcaInput">Nueva Marca *</label>
              <input
                type="text"
                id="editMarcaInput"
                placeholder="Ej: Dior, Chanel, Afnan"
              />
              <small style="color: #666; font-size: 12px"
                >Escribe el nombre de la nueva marca</small
              >
            </div>

            <div class="form-group">
              <label for="editNombre">Nombre del Perfume</label>
              <input type="text" id="editNombre" required />
            </div>

            <div class="form-group">
              <label for="editImagen">URL de la Imagen *</label>
              <input
                type="url"
                id="editImagen"
                required
                placeholder="https://ejemplo.com/imagen.jpg"
              />
              <small style="color: #666; font-size: 12px">
                Puedes cambiar la imagen del perfume aqu√≠
              </small>
            </div>

            <div class="form-group">
              <label for="editPrecio"
                >Precio Final (el que ve el cliente)</label
              >
              <input
                type="number"
                id="editPrecio"
                required
                placeholder="Ej: 3500"
              />
              <small style="color: #666; font-size: 12px"
                >Este es el precio con incremento incluido</small
              >
            </div>

            <div class="form-group">
              <label for="editGenero">G√©nero</label>
              <select id="editGenero">
                <option value="unisex">Unisex</option>
                <option value="hombre">Hombre</option>
                <option value="mujer">Mujer</option>
              </select>
            </div>

            <div class="form-group">
              <label>Tama√±os y Precios Disponibles</label>
              <small
                style="
                  color: #666;
                  font-size: 12px;
                  display: block;
                  margin-bottom: 15px;
                "
              >
                ‚ú® Selecciona los tama√±os y define el precio para cada uno
              </small>

              <div
                style="
                  display: grid;
                  grid-template-columns: repeat(2, 1fr);
                  gap: 15px;
                "
              >
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 14px 16px;
                    background: linear-gradient(
                      135deg,
                      #f8f9fa 0%,
                      #e9ecef 100%
                    );
                    border: 2px solid #dee2e6;
                    border-radius: 12px;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.15)'"
                  onmouseout="this.style.borderColor='#dee2e6'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                >
                  <input
                    type="checkbox"
                    id="editTamano30"
                    value="30"
                    style="
                      cursor: pointer;
                      width: 18px;
                      height: 18px;
                      accent-color: #667eea;
                    "
                  />
                  <label
                    for="editTamano30"
                    style="
                      margin: 0;
                      cursor: pointer;
                      min-width: 55px;
                      font-weight: 600;
                      color: #495057;
                      font-size: 14px;
                    "
                    >30 ML</label
                  >
                  <input
                    type="number"
                    id="editPrecio30"
                    placeholder="Precio"
                    style="
                      flex: 1;
                      padding: 10px 12px;
                      border: 2px solid #e9ecef;
                      border-radius: 8px;
                      font-size: 14px;
                      font-weight: 500;
                      transition: all 0.2s ease;
                    "
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)'"
                    onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none'"
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 14px 16px;
                    background: linear-gradient(
                      135deg,
                      #f8f9fa 0%,
                      #e9ecef 100%
                    );
                    border: 2px solid #dee2e6;
                    border-radius: 12px;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.15)'"
                  onmouseout="this.style.borderColor='#dee2e6'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                >
                  <input
                    type="checkbox"
                    id="editTamano50"
                    value="50"
                    style="
                      cursor: pointer;
                      width: 18px;
                      height: 18px;
                      accent-color: #667eea;
                    "
                  />
                  <label
                    for="editTamano50"
                    style="
                      margin: 0;
                      cursor: pointer;
                      min-width: 55px;
                      font-weight: 600;
                      color: #495057;
                      font-size: 14px;
                    "
                    >50 ML</label
                  >
                  <input
                    type="number"
                    id="editPrecio50"
                    placeholder="Precio"
                    style="
                      flex: 1;
                      padding: 10px 12px;
                      border: 2px solid #e9ecef;
                      border-radius: 8px;
                      font-size: 14px;
                      font-weight: 500;
                      transition: all 0.2s ease;
                    "
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)'"
                    onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none'"
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 14px 16px;
                    background: linear-gradient(
                      135deg,
                      #f8f9fa 0%,
                      #e9ecef 100%
                    );
                    border: 2px solid #dee2e6;
                    border-radius: 12px;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.15)'"
                  onmouseout="this.style.borderColor='#dee2e6'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                >
                  <input
                    type="checkbox"
                    id="editTamano60"
                    value="60"
                    style="
                      cursor: pointer;
                      width: 18px;
                      height: 18px;
                      accent-color: #667eea;
                    "
                  />
                  <label
                    for="editTamano60"
                    style="
                      margin: 0;
                      cursor: pointer;
                      min-width: 55px;
                      font-weight: 600;
                      color: #495057;
                      font-size: 14px;
                    "
                    >60 ML</label
                  >
                  <input
                    type="number"
                    id="editPrecio60"
                    placeholder="Precio"
                    style="
                      flex: 1;
                      padding: 10px 12px;
                      border: 2px solid #e9ecef;
                      border-radius: 8px;
                      font-size: 14px;
                      font-weight: 500;
                      transition: all 0.2s ease;
                    "
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)'"
                    onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none'"
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 14px 16px;
                    background: linear-gradient(
                      135deg,
                      #f8f9fa 0%,
                      #e9ecef 100%
                    );
                    border: 2px solid #dee2e6;
                    border-radius: 12px;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.15)'"
                  onmouseout="this.style.borderColor='#dee2e6'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                >
                  <input
                    type="checkbox"
                    id="editTamano75"
                    value="75"
                    style="
                      cursor: pointer;
                      width: 18px;
                      height: 18px;
                      accent-color: #667eea;
                    "
                  />
                  <label
                    for="editTamano75"
                    style="
                      margin: 0;
                      cursor: pointer;
                      min-width: 55px;
                      font-weight: 600;
                      color: #495057;
                      font-size: 14px;
                    "
                    >75 ML</label
                  >
                  <input
                    type="number"
                    id="editPrecio75"
                    placeholder="Precio"
                    style="
                      flex: 1;
                      padding: 10px 12px;
                      border: 2px solid #e9ecef;
                      border-radius: 8px;
                      font-size: 14px;
                      font-weight: 500;
                      transition: all 0.2s ease;
                    "
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)'"
                    onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none'"
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 14px 16px;
                    background: linear-gradient(
                      135deg,
                      #f8f9fa 0%,
                      #e9ecef 100%
                    );
                    border: 2px solid #dee2e6;
                    border-radius: 12px;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.15)'"
                  onmouseout="this.style.borderColor='#dee2e6'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                >
                  <input
                    type="checkbox"
                    id="editTamano80"
                    value="80"
                    style="
                      cursor: pointer;
                      width: 18px;
                      height: 18px;
                      accent-color: #667eea;
                    "
                  />
                  <label
                    for="editTamano80"
                    style="
                      margin: 0;
                      cursor: pointer;
                      min-width: 55px;
                      font-weight: 600;
                      color: #495057;
                      font-size: 14px;
                    "
                    >80 ML</label
                  >
                  <input
                    type="number"
                    id="editPrecio80"
                    placeholder="Precio"
                    style="
                      flex: 1;
                      padding: 10px 12px;
                      border: 2px solid #e9ecef;
                      border-radius: 8px;
                      font-size: 14px;
                      font-weight: 500;
                      transition: all 0.2s ease;
                    "
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)'"
                    onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none'"
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 14px 16px;
                    background: linear-gradient(
                      135deg,
                      #f8f9fa 0%,
                      #e9ecef 100%
                    );
                    border: 2px solid #dee2e6;
                    border-radius: 12px;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.15)'"
                  onmouseout="this.style.borderColor='#dee2e6'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                >
                  <input
                    type="checkbox"
                    id="editTamano90"
                    value="90"
                    style="
                      cursor: pointer;
                      width: 18px;
                      height: 18px;
                      accent-color: #667eea;
                    "
                  />
                  <label
                    for="editTamano90"
                    style="
                      margin: 0;
                      cursor: pointer;
                      min-width: 55px;
                      font-weight: 600;
                      color: #495057;
                      font-size: 14px;
                    "
                    >90 ML</label
                  >
                  <input
                    type="number"
                    id="editPrecio90"
                    placeholder="Precio"
                    style="
                      flex: 1;
                      padding: 10px 12px;
                      border: 2px solid #e9ecef;
                      border-radius: 8px;
                      font-size: 14px;
                      font-weight: 500;
                      transition: all 0.2s ease;
                    "
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)'"
                    onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none'"
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 14px 16px;
                    background: linear-gradient(
                      135deg,
                      #f8f9fa 0%,
                      #e9ecef 100%
                    );
                    border: 2px solid #dee2e6;
                    border-radius: 12px;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.15)'"
                  onmouseout="this.style.borderColor='#dee2e6'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                >
                  <input
                    type="checkbox"
                    id="editTamano100"
                    value="100"
                    style="
                      cursor: pointer;
                      width: 18px;
                      height: 18px;
                      accent-color: #667eea;
                    "
                  />
                  <label
                    for="editTamano100"
                    style="
                      margin: 0;
                      cursor: pointer;
                      min-width: 55px;
                      font-weight: 600;
                      color: #495057;
                      font-size: 14px;
                    "
                    >100 ML</label
                  >
                  <input
                    type="number"
                    id="editPrecio100"
                    placeholder="Precio"
                    style="
                      flex: 1;
                      padding: 10px 12px;
                      border: 2px solid #e9ecef;
                      border-radius: 8px;
                      font-size: 14px;
                      font-weight: 500;
                      transition: all 0.2s ease;
                    "
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)'"
                    onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none'"
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 14px 16px;
                    background: linear-gradient(
                      135deg,
                      #f8f9fa 0%,
                      #e9ecef 100%
                    );
                    border: 2px solid #dee2e6;
                    border-radius: 12px;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.15)'"
                  onmouseout="this.style.borderColor='#dee2e6'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                >
                  <input
                    type="checkbox"
                    id="editTamano120"
                    value="120"
                    style="
                      cursor: pointer;
                      width: 18px;
                      height: 18px;
                      accent-color: #667eea;
                    "
                  />
                  <label
                    for="editTamano120"
                    style="
                      margin: 0;
                      cursor: pointer;
                      min-width: 55px;
                      font-weight: 600;
                      color: #495057;
                      font-size: 14px;
                    "
                    >120 ML</label
                  >
                  <input
                    type="number"
                    id="editPrecio120"
                    placeholder="Precio"
                    style="
                      flex: 1;
                      padding: 10px 12px;
                      border: 2px solid #e9ecef;
                      border-radius: 8px;
                      font-size: 14px;
                      font-weight: 500;
                      transition: all 0.2s ease;
                    "
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)'"
                    onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none'"
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 14px 16px;
                    background: linear-gradient(
                      135deg,
                      #f8f9fa 0%,
                      #e9ecef 100%
                    );
                    border: 2px solid #dee2e6;
                    border-radius: 12px;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.15)'"
                  onmouseout="this.style.borderColor='#dee2e6'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                >
                  <input
                    type="checkbox"
                    id="editTamano125"
                    value="125"
                    style="
                      cursor: pointer;
                      width: 18px;
                      height: 18px;
                      accent-color: #667eea;
                    "
                  />
                  <label
                    for="editTamano125"
                    style="
                      margin: 0;
                      cursor: pointer;
                      min-width: 55px;
                      font-weight: 600;
                      color: #495057;
                      font-size: 14px;
                    "
                    >125 ML</label
                  >
                  <input
                    type="number"
                    id="editPrecio125"
                    placeholder="Precio"
                    style="
                      flex: 1;
                      padding: 10px 12px;
                      border: 2px solid #e9ecef;
                      border-radius: 8px;
                      font-size: 14px;
                      font-weight: 500;
                      transition: all 0.2s ease;
                    "
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)'"
                    onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none'"
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 14px 16px;
                    background: linear-gradient(
                      135deg,
                      #f8f9fa 0%,
                      #e9ecef 100%
                    );
                    border: 2px solid #dee2e6;
                    border-radius: 12px;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.15)'"
                  onmouseout="this.style.borderColor='#dee2e6'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                >
                  <input
                    type="checkbox"
                    id="editTamano200"
                    value="200"
                    style="
                      cursor: pointer;
                      width: 18px;
                      height: 18px;
                      accent-color: #667eea;
                    "
                  />
                  <label
                    for="editTamano200"
                    style="
                      margin: 0;
                      cursor: pointer;
                      min-width: 55px;
                      font-weight: 600;
                      color: #495057;
                      font-size: 14px;
                    "
                    >200 ML</label
                  >
                  <input
                    type="number"
                    id="editPrecio200"
                    placeholder="Precio"
                    style="
                      flex: 1;
                      padding: 10px 12px;
                      border: 2px solid #e9ecef;
                      border-radius: 8px;
                      font-size: 14px;
                      font-weight: 500;
                      transition: all 0.2s ease;
                    "
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)'"
                    onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none'"
                  />
                </div>
              </div>
              <small
                style="
                  color: #666;
                  font-size: 12px;
                  margin-top: 8px;
                  display: block;
                "
              >
                üí° Si dejas el precio vac√≠o, se calcular√° autom√°ticamente
                (60ML=70%, 100ML=100%, 120ML=120%)
              </small>
            </div>

            <div class="form-group">
              <label for="editDescripcion">Descripci√≥n</label>
              <textarea
                id="editDescripcion"
                rows="4"
                placeholder="Descripci√≥n del perfume..."
              ></textarea>
            </div>

            <div class="form-group">
              <label for="editNotasSalida">Notas de Salida</label>
              <input
                type="text"
                id="editNotasSalida"
                placeholder="Ej: Bergamota, Lim√≥n"
              />
            </div>

            <div class="form-group">
              <label for="editNotasCorazon">Notas de Coraz√≥n</label>
              <input
                type="text"
                id="editNotasCorazon"
                placeholder="Ej: Lavanda, Geranio"
              />
            </div>

            <div class="form-group">
              <label for="editNotasFondo">Notas de Fondo</label>
              <input
                type="text"
                id="editNotasFondo"
                placeholder="Ej: Cedro, √Åmbar"
              />
            </div>
          </div>

          <div class="modal-footer">
            <button
              type="button"
              class="btn-secondary"
              onclick="closeEditModal()"
            >
              Cancelar
            </button>
            <button type="submit" class="btn-primary">
              üíæ Guardar Cambios
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal de Agregar Perfume -->
    <div id="addModal" class="modal">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>‚ûï Agregar Nuevo Perfume</h2>
          <button class="modal-close" onclick="closeAddModal()">√ó</button>
        </div>
        <form id="addForm">
          <div class="modal-body">
            <div class="form-group">
              <label for="addCategoria">Categor√≠a *</label>
              <select id="addCategoria" required>
                <option value="">Seleccionar categor√≠a</option>
                <option value="arabes">√Årabes</option>
                <option value="disenador">Dise√±ador</option>
                <option value="nichos">Nichos</option>
                <option value="sets">Sets</option>
              </select>
            </div>

            <div class="form-group">
              <label for="addMarcaSelect">Marca *</label>
              <select id="addMarcaSelect" required>
                <option value="">Seleccionar marca existente</option>
                <option value="__NUEVA__">‚ûï Agregar nueva marca</option>
              </select>
            </div>

            <div
              class="form-group"
              id="addMarcaInputGroup"
              style="display: none"
            >
              <label for="addMarcaInput">Nueva Marca *</label>
              <input
                type="text"
                id="addMarcaInput"
                placeholder="Ej: Dior, Chanel, Afnan"
              />
              <small style="color: #666; font-size: 12px"
                >Escribe el nombre de la nueva marca</small
              >
            </div>

            <div class="form-group">
              <label for="addNombre">Nombre del Perfume *</label>
              <input
                type="text"
                id="addNombre"
                required
                placeholder="Ej: Sauvage Elixir"
              />
            </div>

            <div class="form-group">
              <label for="addImagen">URL de la Imagen *</label>
              <input
                type="url"
                id="addImagen"
                required
                placeholder="https://ejemplo.com/imagen.jpg"
              />
            </div>

            <div class="form-group">
              <label for="addPrecio">Precio Final *</label>
              <input
                type="number"
                id="addPrecio"
                required
                placeholder="Ej: 3500"
              />
              <small style="color: #666; font-size: 12px"
                >Este es el precio con incremento incluido</small
              >
            </div>

            <div class="form-group">
              <label for="addGenero">G√©nero</label>
              <select id="addGenero">
                <option value="unisex">Unisex</option>
                <option value="hombre">Hombre</option>
                <option value="mujer">Mujer</option>
              </select>
            </div>

            <div class="form-group">
              <label>Tama√±os y Precios Disponibles</label>
              <small
                style="
                  color: #666;
                  font-size: 12px;
                  display: block;
                  margin-bottom: 15px;
                "
              >
                ‚ú® Selecciona los tama√±os y define el precio para cada uno
              </small>

              <div
                style="
                  display: grid;
                  grid-template-columns: repeat(2, 1fr);
                  gap: 15px;
                "
              >
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 14px 16px;
                    background: linear-gradient(
                      135deg,
                      #f8f9fa 0%,
                      #e9ecef 100%
                    );
                    border: 2px solid #dee2e6;
                    border-radius: 12px;
                    transition: all 0.3s ease;
                    cursor: pointer;
                  "
                  onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.15)'"
                  onmouseout="this.style.borderColor='#dee2e6'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                >
                  <input
                    type="checkbox"
                    id="addTamano30"
                    value="30"
                    style="
                      cursor: pointer;
                      width: 18px;
                      height: 18px;
                      accent-color: #667eea;
                    "
                  />
                  <label
                    for="addTamano30"
                    style="
                      margin: 0;
                      cursor: pointer;
                      min-width: 55px;
                      font-weight: 600;
                      color: #495057;
                      font-size: 14px;
                    "
                    >30 ML</label
                  >
                  <input
                    type="number"
                    id="addPrecio30"
                    placeholder="Precio"
                    style="
                      flex: 1;
                      padding: 10px 12px;
                      border: 2px solid #e9ecef;
                      border-radius: 8px;
                      font-size: 14px;
                      font-weight: 500;
                      transition: all 0.2s ease;
                    "
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)'"
                    onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none'"
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    padding: 10px;
                    background: #f8f9fa;
                    border-radius: 8px;
                  "
                >
                  <input
                    type="checkbox"
                    id="addTamano50"
                    value="50"
                    style="cursor: pointer"
                  />
                  <label
                    for="addTamano50"
                    style="margin: 0; cursor: pointer; min-width: 60px"
                    >50 ML</label
                  >
                  <input
                    type="number"
                    id="addPrecio50"
                    placeholder="Precio (opcional)"
                    style="
                      flex: 1;
                      padding: 8px;
                      border: 1px solid #ddd;
                      border-radius: 5px;
                    "
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    padding: 10px;
                    background: #f8f9fa;
                    border-radius: 8px;
                  "
                >
                  <input
                    type="checkbox"
                    id="addTamano60"
                    value="60"
                    style="cursor: pointer"
                  />
                  <label
                    for="addTamano60"
                    style="margin: 0; cursor: pointer; min-width: 60px"
                    >60 ML</label
                  >
                  <input
                    type="number"
                    id="addPrecio60"
                    placeholder="Precio (opcional)"
                    style="
                      flex: 1;
                      padding: 8px;
                      border: 1px solid #ddd;
                      border-radius: 5px;
                    "
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    padding: 10px;
                    background: #f8f9fa;
                    border-radius: 8px;
                  "
                >
                  <input
                    type="checkbox"
                    id="addTamano75"
                    value="75"
                    style="cursor: pointer"
                  />
                  <label
                    for="addTamano75"
                    style="margin: 0; cursor: pointer; min-width: 60px"
                    >75 ML</label
                  >
                  <input
                    type="number"
                    id="addPrecio75"
                    placeholder="Precio (opcional)"
                    style="
                      flex: 1;
                      padding: 8px;
                      border: 1px solid #ddd;
                      border-radius: 5px;
                    "
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    padding: 10px;
                    background: #f8f9fa;
                    border-radius: 8px;
                  "
                >
                  <input
                    type="checkbox"
                    id="addTamano80"
                    value="80"
                    style="cursor: pointer"
                  />
                  <label
                    for="addTamano80"
                    style="margin: 0; cursor: pointer; min-width: 60px"
                    >80 ML</label
                  >
                  <input
                    type="number"
                    id="addPrecio80"
                    placeholder="Precio (opcional)"
                    style="
                      flex: 1;
                      padding: 8px;
                      border: 1px solid #ddd;
                      border-radius: 5px;
                    "
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    padding: 10px;
                    background: #f8f9fa;
                    border-radius: 8px;
                  "
                >
                  <input
                    type="checkbox"
                    id="addTamano90"
                    value="90"
                    style="cursor: pointer"
                  />
                  <label
                    for="addTamano90"
                    style="margin: 0; cursor: pointer; min-width: 60px"
                    >90 ML</label
                  >
                  <input
                    type="number"
                    id="addPrecio90"
                    placeholder="Precio (opcional)"
                    style="
                      flex: 1;
                      padding: 8px;
                      border: 1px solid #ddd;
                      border-radius: 5px;
                    "
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    padding: 10px;
                    background: #f8f9fa;
                    border-radius: 8px;
                  "
                >
                  <input
                    type="checkbox"
                    id="addTamano100"
                    value="100"
                    checked
                    style="cursor: pointer"
                  />
                  <label
                    for="addTamano100"
                    style="margin: 0; cursor: pointer; min-width: 60px"
                    >100 ML</label
                  >
                  <input
                    type="number"
                    id="addPrecio100"
                    placeholder="Precio (opcional)"
                    style="
                      flex: 1;
                      padding: 8px;
                      border: 1px solid #ddd;
                      border-radius: 5px;
                    "
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    padding: 10px;
                    background: #f8f9fa;
                    border-radius: 8px;
                  "
                >
                  <input
                    type="checkbox"
                    id="addTamano120"
                    value="120"
                    style="cursor: pointer"
                  />
                  <label
                    for="addTamano120"
                    style="margin: 0; cursor: pointer; min-width: 60px"
                    >120 ML</label
                  >
                  <input
                    type="number"
                    id="addPrecio120"
                    placeholder="Precio (opcional)"
                    style="
                      flex: 1;
                      padding: 8px;
                      border: 1px solid #ddd;
                      border-radius: 5px;
                    "
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    padding: 10px;
                    background: #f8f9fa;
                    border-radius: 8px;
                  "
                >
                  <input
                    type="checkbox"
                    id="addTamano125"
                    value="125"
                    style="cursor: pointer"
                  />
                  <label
                    for="addTamano125"
                    style="margin: 0; cursor: pointer; min-width: 60px"
                    >125 ML</label
                  >
                  <input
                    type="number"
                    id="addPrecio125"
                    placeholder="Precio (opcional)"
                    style="
                      flex: 1;
                      padding: 8px;
                      border: 1px solid #ddd;
                      border-radius: 5px;
                    "
                  />
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    padding: 10px;
                    background: #f8f9fa;
                    border-radius: 8px;
                  "
                >
                  <input
                    type="checkbox"
                    id="addTamano200"
                    value="200"
                    style="cursor: pointer"
                  />
                  <label
                    for="addTamano200"
                    style="margin: 0; cursor: pointer; min-width: 60px"
                    >200 ML</label
                  >
                  <input
                    type="number"
                    id="addPrecio200"
                    placeholder="Precio (opcional)"
                    style="
                      flex: 1;
                      padding: 8px;
                      border: 1px solid #ddd;
                      border-radius: 5px;
                    "
                  />
                </div>
              </div>
              <small
                style="
                  color: #666;
                  font-size: 12px;
                  margin-top: 8px;
                  display: block;
                "
              >
                üí° Si dejas el precio vac√≠o, se calcular√° autom√°ticamente
                (60ML=70%, 100ML=100%, 120ML=120%)
              </small>
            </div>

            <div class="form-group">
              <label for="addDescripcion">Descripci√≥n</label>
              <textarea
                id="addDescripcion"
                rows="4"
                placeholder="Descripci√≥n del perfume..."
              ></textarea>
            </div>

            <div class="form-group">
              <label for="addNotasSalida">Notas de Salida</label>
              <input
                type="text"
                id="addNotasSalida"
                placeholder="Ej: Bergamota, Lim√≥n"
              />
            </div>

            <div class="form-group">
              <label for="addNotasCorazon">Notas de Coraz√≥n</label>
              <input
                type="text"
                id="addNotasCorazon"
                placeholder="Ej: Lavanda, Geranio"
              />
            </div>

            <div class="form-group">
              <label for="addNotasFondo">Notas de Fondo</label>
              <input
                type="text"
                id="addNotasFondo"
                placeholder="Ej: Cedro, √Åmbar"
              />
            </div>
          </div>

          <div class="modal-footer">
            <button
              type="button"
              class="btn-secondary"
              onclick="closeAddModal()"
            >
              Cancelar
            </button>
            <button type="submit" class="btn-primary">
              ‚ûï Agregar Perfume
            </button>
          </div>
        </form>
      </div>
    </div>

    <script type="module" src="admin-firebase.js"></script>
  </body>
</html>
